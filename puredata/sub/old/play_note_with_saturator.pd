#N canvas -8 -8 1920 1037 10;
#X declare -lib ceammc;
#X obj 3 4 declare -lib ceammc;
#X obj 42 297 fluid~;
#X obj 73 88 inlet;
#X obj 122 190 msg note 1;
#X obj 3 28 loadbang;
#X text 129 3 To setup: Help - Find externals \, add ceammc;
#X msg 3 50 @sf ../soundfonts/westCoastPiano.sf2;
#X text 116 87 key \, velocity (62 121);
#X text 192 189 channel 1 \, key \, velocity;
#X obj 50 465 outlet~;
#X obj 110 464 outlet~;
#X obj 122 214 print Note received in [play_note~\$0];
#X obj 302 368 ../lib/saturation~;
#X text 419 366 left right gain saturation;
#N canvas 416 366 450 300 get_normalised_velocity_from_key_velocity
0;
#X text 90 32 velocity;
#X obj 52 55 / 127;
#X msg 52 33 \$2;
#X obj 48 192 outlet;
#X obj 51 6 inlet;
#X obj 52 111 *;
#X obj 110 159 print Saturation applied;
#X text 94 54 normalised;
#X obj 191 122 print max sat;
#X obj 67 87 r constant_max_saturation;
#X connect 1 0 5 0;
#X connect 2 0 1 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 5 0 3 0;
#X connect 9 0 5 1;
#X connect 9 0 8 0;
#X restore 516 235 pd get_normalised_velocity_from_key_velocity;
#X msg 372 345 0;
#X obj 372 325 loadbang;
#X obj 73 112 s \$0-key_velocity;
#X obj 122 168 r \$0-key_velocity;
#X obj 516 212 r \$0-key_velocity;
#X connect 1 0 12 0;
#X connect 1 1 12 1;
#X connect 2 0 17 0;
#X connect 3 0 1 0;
#X connect 3 0 11 0;
#X connect 4 0 6 0;
#X connect 6 0 1 0;
#X connect 12 0 9 0;
#X connect 12 1 10 0;
#X connect 14 0 12 3;
#X connect 15 0 12 2;
#X connect 16 0 15 0;
#X connect 18 0 3 0;
#X connect 19 0 14 0;
